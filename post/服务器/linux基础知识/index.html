<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Linux 基础知识 - ZsmHub - Blog</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="ZsmHub" /><meta name="description" content="基本命令 find: find是最常见和最强大的查找命令，你可以用它找到任何你想找的文件 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 # find的使用格式如下： $" /><meta name="keywords" content="Hugo, even, zsmhub, blog, php, golang" />






<meta name="generator" content="Hugo 0.69.0 with theme even" />


<link rel="canonical" href="https://zsmhub.github.io/post/%E6%9C%8D%E5%8A%A1%E5%99%A8/linux%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.e23b16f70676ed692f169c65f07230cd9d3e790a4b5b15dc32b1ee36e7604994.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="Linux 基础知识" />
<meta property="og:description" content="基本命令 find: find是最常见和最强大的查找命令，你可以用它找到任何你想找的文件 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 # find的使用格式如下： $" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zsmhub.github.io/post/%E6%9C%8D%E5%8A%A1%E5%99%A8/linux%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" />
<meta property="article:published_time" content="2019-01-01T17:32:56+08:00" />
<meta property="article:modified_time" content="2020-05-05T17:32:56+08:00" />
<meta itemprop="name" content="Linux 基础知识">
<meta itemprop="description" content="基本命令 find: find是最常见和最强大的查找命令，你可以用它找到任何你想找的文件 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 # find的使用格式如下： $">
<meta itemprop="datePublished" content="2019-01-01T17:32:56&#43;08:00" />
<meta itemprop="dateModified" content="2020-05-05T17:32:56&#43;08:00" />
<meta itemprop="wordCount" content="3956">



<meta itemprop="keywords" content="linux,入门," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Linux 基础知识"/>
<meta name="twitter:description" content="基本命令 find: find是最常见和最强大的查找命令，你可以用它找到任何你想找的文件 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 # find的使用格式如下： $"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">ZsmHub Blog</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">首页</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">归档</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">分类</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">标签</li>
      </a><a href="/navigation">
        <li class="mobile-menu-item">导航</li>
      </a><a href="/about">
        <li class="mobile-menu-item">关于</li>
      </a>
  </ul>
</nav>
  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">ZsmHub Blog</a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">首页</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">归档</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">分类</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">标签</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/navigation">导航</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about">关于</a>
      </li>
  </ul>
</nav>
    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Linux 基础知识</h1>

      <div class="post-meta">
        <span class="post-time"> 2019-01-01 </span>
        <div class="post-category">
            <a href="/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/"> 服务器 </a>
            </div>
          <span class="more-meta"> 约 3956 字 </span>
          <span class="more-meta"> 预计阅读 8 分钟 </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#基本命令">基本命令</a></li>
    <li><a href="#crontab">crontab</a></li>
    <li><a href="#重定向">重定向</a></li>
    <li><a href="#管道">管道</a></li>
    <li><a href="#常用文本处理命令">常用文本处理命令</a></li>
    <li><a href="#脚本后端挂起方式">脚本后端挂起方式</a></li>
    <li><a href="#rsync">rsync</a></li>
    <li><a href="#用户和用户组">用户和用户组</a></li>
    <li><a href="#回车和换行">回车和换行</a></li>
    <li><a href="#软件包管理器">软件包管理器</a></li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <h2 id="基本命令">基本命令</h2>
<ul>
<li>
<p>find: find是最常见和最强大的查找命令，你可以用它找到任何你想找的文件</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-sh" data-lang="sh"><span class="c1"># find的使用格式如下：</span>

$ find &lt;指定目录&gt; &lt;指定条件&gt; &lt;指定动作&gt;
　　- &lt;指定目录&gt;： 所要搜索的目录及其所有子目录。默认为当前目录。
　　- &lt;指定条件&gt;： 所要搜索的文件的特征。
　　- &lt;指定动作&gt;： 对搜索结果进行特定的处理。
如果什么参数也不加，find默认搜索当前目录及其子目录，并且不过滤任何结果（也就是返回所有文件），将它们全都显示在屏幕上。

<span class="c1"># find的使用实例：</span>

$ find ./ -name <span class="s1">&#39;my*&#39;</span>
搜索当前目录（含子目录，以下同）中，所有文件名以my开头的文件。

$ find ./ -name <span class="s1">&#39;my*&#39;</span> -ls
搜索当前目录中，所有文件名以my开头的文件，并显示它们的详细信息。

$ find . -type f -mmin -10
搜索当前目录中，所有过去10分钟中更新过的普通文件。如果不加-type f参数，则搜索普通文件+特殊文件+目录。
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>nohup: 不挂断地运行命令，该命令的一般形式为：nohup command &amp;</p>
<blockquote>
<p>如果你正在运行一个进程，而且你觉得在退出帐户时该进程还不会结束，那么可以使用nohup命令。该命令可以在你退出帐户/关闭终端之后继续运行相应的进程。nohup就是不挂起的意思(no hangup)。</p>
</blockquote>
</li>
<li>
<p>dmesg: 查看系统日志错误</p>
</li>
<li>
<p>tail命令用于输入文件中的尾部内容。tail命令默认在屏幕上显示指定文件的末尾10行。如果给定的文件不止一个，则在显示的每个文件前面加一个文件名标题。如果没有指定文件或者文件名为“-”，则读取标准输入。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-sh" data-lang="sh">tail -f zsm.log  <span class="c1"># 显示文件最新追加的内容</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>如何判断Linux是32位还是64位：getconf LONG_BIT</p>
</li>
<li>
<p>查看linux系统发行版本的名称及其内核版本号的命令：hostnamectl 或 cat /etc/redhat-release 或 cat /proc/version 或 cat /etc/issue</p>
</li>
<li>
<p>文件上传下载</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-sh" data-lang="sh">yum install lrzsx
sz path/to/file // 下载文件，默认下载位置看 secure 等设置
rz -y // 按Enter键选择文件上传到当前目录
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>sudo</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-sh" data-lang="sh">sudo su // 当前用户切换为超级用户
sudo su - www // 切换系统用户为 www 用户
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>ps 命令就是最基本同时也是非常强大的进程查看命令。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-sh" data-lang="sh">ps aux <span class="p">|</span> grep php // ps 与grep 常用组合用法，查找特定进程
ps -A // 查看系统所有进程
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>top -c // top命令提供了系统的活动监视器, 点击大写字母M可以设置按占用内存大小排序，小写字母e设置进程占用内存单位，大写字母E设置总体内存使用情况单位</p>
</li>
<li>
<p>chmod：文件夹或文件授权</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-sh" data-lang="sh">sudo chmod -R <span class="m">777</span> /var/www <span class="o">(</span>-R表示递归子文件夹及子文件<span class="o">)</span>

chmod +x ./test.sh <span class="c1">#使脚本具有执行权限</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>文件详细信息中 drwxr-xr-x 所代表的意思</p>
<p>d ：第一位表示文件类型，d是目录文件. l是链接文件. -是普通文件. p是管道</p>
<p>rwx ：第2-4位表示这个文件的属主拥有的权限。r是读【4】. w是写【2】. x是执行【1】（例子：777：表示所有用户和组拥有读写执行权限，766表示拥有文件用户拥有读写执行权限，而该用户组和其他用户只有读写权限）</p>
<p>r-x ：第5-7位表示和这个文件属主所在同一个组的用户所具有的权限</p>
<p>r-x ：第8-10位表示其他用户所具有的权限</p>
</blockquote>
<blockquote>
<p>权限的计算方法，使用二进制：</p>
<p>例如“rwx”，二进制就是111，“2的2次方”+“2的1次方”+“2的0次方”=7；</p>
<p>“r-x&rdquo;，二进制就是101，“2的2次方”+“0的1次方”+“2的0次方”=3</p>
</blockquote>
</li>
<li>
<p>chown：修改当前文件所有者</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-sh" data-lang="sh">chown -R hadoop:hadoop path/to/file
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>解压缩</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-sh" data-lang="sh">tar -czf lnmp.tar.gz lnmp/   //将 lnmp 文件打包并且将其用 gzip 压缩，名字为 lnmp.tar.gz
tar xvf lnmp.tar.gz  // 解压
unzip wx.zip  // 解压
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>telnet 命令有很多用途，比如确定远程服务的状态，比如确定远程服务器的某个端口是否能访问。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-sh" data-lang="sh">telnet 63.172.25.18 <span class="m">3306</span> 回车  <span class="c1"># 测试3306端口是否能访问</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>监听端口是否启用/占用</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-sh" data-lang="sh">netstat -apn <span class="p">|</span> grep <span class="m">11211</span>   <span class="c1"># 监听11211端口是否启用，11211为memcached占用的端口</span>
lsof -i:端口号 <span class="c1"># 用于查看某一端口的占用情况，比如查看8000端口使用情况，lsof -i:8000</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>history</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-sh" data-lang="sh"><span class="nb">history</span> ：查看最新历史命令
<span class="nb">history</span> <span class="p">|</span> more : 查看最初历史命令，可以搜索
<span class="nb">history</span> <span class="p">|</span> more +100 : 从第100条命令开始看
<span class="nb">history</span> <span class="p">|</span> grep php : 搜素php相关命令
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>wget: 是一个下载文件的工具</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-sh" data-lang="sh">wget <span class="o">[</span>参数<span class="o">]</span> <span class="o">[</span>URL地址<span class="o">]</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>kill：杀死进程</p>
</li>
<li>
<p>pwd: 命令用于显示当前目录</p>
</li>
<li>
<p>cp &amp; mv &amp; rm</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-sh" data-lang="sh">cp -r sourse_file_path destinct_file_path // 复制文件夹及子文件到目标文件夹
mv -i 源文件或目录 目标文件或目录 // 文件移动或重命名
rm -rf direct/ // 删除文件夹或文件
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>服务器查看</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-sh" data-lang="sh">查看硬盘使用情况：df -h（有时硬盘空间不够会导致服务器奔溃）
查看cpu的方法: cat /proc/cpuinfo
查看内存的方法: free -m 或者 cat /proc/meminfo
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>ls -al 等价于 ll</p>
</li>
</ul>
<h2 id="crontab">crontab</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-sh" data-lang="sh">crontab -l <span class="c1"># 查看当前的计划任务</span>
crontab -e <span class="c1"># 编辑计划任务</span>
</code></pre></td></tr></table>
</div>
</div><p><img src="/images/2020/linux-crontab.png" alt="crontab"></p>
<p>在以上各个字段中，还可以使用以下特殊字符：</p>
<ul>
<li>星号（*）：代表所有可能的值，例如month字段如果是星号，则表示在满足其它字段的制约条件后每月都执行该命令操作。</li>
<li>逗号（,）：可以用逗号隔开的值指定一个列表范围，例如，“1,2,5,7,8,9”</li>
<li>中杠（-）：可以用整数之间的中杠表示一个整数范围，例如“2-6”表示“2,3,4,5,6”</li>
<li>正斜线（/）：可以用正斜线指定时间的间隔频率，例如“0-23/2”表示每两小时执行一次。同时正斜线可以和星号一起使用，例如*/10，如果用在minute字段，表示每十分钟执行一次。</li>
</ul>
<h2 id="重定向">重定向</h2>
<ol>
<li>命令 &raquo; 文件 2&gt;&amp;1 :以追加的方式，把正确输出和错误输出都保存在文件中。</li>
<li>命令 &amp;&gt; 文件名：以覆盖的方式将正确和错误输出都保存在文件中。</li>
<li>命令 &amp;&raquo; 文件名：以追加的方式将正确和错误输出都保存在文件中。</li>
<li>命令 &raquo; 文件A 2&raquo; 文件B：正确的输出到A文件中，错误的输出到B文件中。</li>
</ol>
<h2 id="管道">管道</h2>
<p>命令格式：命令A|命令B，即命令1的正确输出作为命令B的操作对象。</p>
<blockquote>
<p>多命令顺序执行</p>
</blockquote>
<ol>
<li>命令1；命令2：执行完1再执行2，命令之间没有任何逻辑联系</li>
<li>命令1&amp;&amp;命令2：&amp;&amp;是一个“自私”符号，即命令1正确我命令2才执行，你错误了我2就不执行。</li>
<li>命令1||命令2：是一个备胎符号，即1不行了2就上，1行的话我就不执行。</li>
</ol>
<h2 id="常用文本处理命令">常用文本处理命令</h2>
<ul>
<li>awk是一个非常棒的数字处理工具。相比于sed常常作用于一整行的处理，awk则比较倾向于将一行分为数个“字段”来处理。运行效率高，而且代码简单，对格式化的文本处理能力超强。先来一个例子：</li>
<li>sed是一个很好的文件处理工具，本身是一个管道命令，主要是以行为单位进行处理，可以将数据行进行替换、删除、新增、选取等特定工作</li>
</ul>
<h2 id="脚本后端挂起方式">脚本后端挂起方式</h2>
<ol>
<li>
<p>&amp;</p>
<p>当在前台运行某个作业时，终端被该作业占据；可以在命令后面加上&amp; 实现后台运行。例如：sh test.sh &amp;</p>
<p>command &raquo; out.file 2&gt;&amp;1  &amp;   # 脚本输出日志保存到文件</p>
</li>
<li>
<p>GNU Screen</p>
<p>GNU Screen是一款由GNU计划开发的用于命令行终端切换的自由软件。用户可以通过该软件同时连接多个本地或远程的命令行会话，并在其间自由切换。</p>
<p>GNU Screen可以看作是窗口管理器的命令行界面版本。它提供了统一的管理多个会话的界面和相应的功能。</p>
<blockquote>
<p>会话恢复</p>
</blockquote>
<p>只要Screen本身没有终止，在其内部运行的会话都可以恢复。这一点对于远程登录的用户特别有用——即使网络连接中断，用户也不会失去对已经打开的命令行会话的控制。只要再次登录到主机上执行screen -r就可以恢复会话的运行。同样在暂时离开的时候，也可以执行分离命令detach，在保证里面的程序正常运行的情况下让Screen挂起（切换到后台）。这一点和图形界面下的VNC很相似。</p>
<blockquote>
<p>多窗口</p>
</blockquote>
<p>在Screen环境下，所有的会话都独立的运行，并拥有各自的编号、输入、输出和窗口缓存。用户可以通过快捷键在不同的窗口下切换，并可以自由的重定向各个窗口的输入和输出。Screen实现了基本的文本操作，如复制粘贴等；还提供了类似滚动条的功能，可以查看窗口状况的历史记录。窗口还可以被分区和命名，还可以监视后台窗口的活动。</p>
<blockquote>
<p>会话共享</p>
</blockquote>
<p>Screen可以让一个或多个用户从不同终端多次登录一个会话，并共享会话的所有特性（比如可以看到完全相同的输出）。它同时提供了窗口访问权限的机制，可以对窗口进行密码保护。</p>
<blockquote>
<p>常用 screen 参数</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-sh" data-lang="sh">screen -S yourname <span class="c1"># 新建一个叫yourname的session，并进入这个session</span>
screen -ls <span class="c1"># 列出当前所有的session</span>
screen -r yourname <span class="c1"># 回到yourname这个session</span>
screen -d yourname <span class="c1"># 远程detach某个session（挂起session，切换到后台）</span>
screen -d -r yourname <span class="c1"># 结束当前session并回到yournamed这个session</span>
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>删除创建的screen session:</p>
</blockquote>
<ul>
<li>在screen session中执行exit</li>
<li>有时远程的进程没有响应，用screen -r过去也不能杀掉，这是想把会话中止，方法如下: screen -S some_name -X quit</li>
</ul>
<blockquote>
<p>快捷键</p>
</blockquote>
<p>Ctrl-a键 d键 -&gt; detach，暂时离开当前session，将目前的 screen session (可能含有多个 windows) 丢到后台执行，并会回到还没进 screen 时的状态，此时在 screen session 里，每个 window 内运行的 process (无论是前台/后台)都在继续执行，即使 logout 也不影响。</p>
</li>
</ol>
<h2 id="rsync">rsync</h2>
<p>rsync命令是一个远程数据同步工具，可通过LAN/WAN快速同步多台主机间的文件。rsync使用所谓的“rsync算法”来使本地和远程两个主机之间的文件达到同步，这个算法只传送两个文件的不同部分，而不是每次都整份传送，因此速度相当快。</p>
<p>使用 Git 和 rsync 更新生产环境代码的 ssh 脚本</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-sh" data-lang="sh"><span class="cp">#!/bin/bash
</span><span class="cp"></span><span class="nb">cd</span> /data/git/data/qy_admin/
git pull
chown -R www:www *
/usr/bin/rsync -avzhP --delete --exclude<span class="o">=</span><span class="s1">&#39;.git/&#39;</span> --exclude<span class="o">=</span><span class="s1">&#39;.gitignore&#39;</span> --exclude<span class="o">=</span><span class="s1">&#39;.svn/&#39;</span> --exclude<span class="o">=</span><span class="s1">&#39;.idea&#39;</span> --exclude<span class="o">=</span><span class="s1">&#39;application/cache/&#39;</span> --exclude<span class="o">=</span><span class="s1">&#39;application/config/database.php&#39;</span> --exclude<span class="o">=</span><span class="s1">&#39;application/logs/&#39;</span> --exclude<span class="o">=</span><span class="s1">&#39;application/controllers/defaultcontroller.php&#39;</span> --exclude<span class="o">=</span><span class="s1">&#39;upload/&#39;</span> --exclude<span class="o">=</span><span class="s1">&#39;sql/&#39;</span> /data/git/data/qy_admin/  192.168.1.1:/data/wx/www/
</code></pre></td></tr></table>
</div>
</div><h2 id="用户和用户组">用户和用户组</h2>
<ul>
<li>/etc/passwd: 存放用户信息</li>
<li>/etc/shadow:  存放用户加密信息</li>
<li>/etc/group: 存放用户组信息</li>
<li>/etc/gshadow: 存放用户组加密信息</li>
</ul>
<h2 id="回车和换行">回车和换行</h2>
<ul>
<li>在linux/mac下，回车是\r，代表结束的意思。换行是\n，代表换行的意思。</li>
<li>在windows下，一般换行就是指回车+换行两种意思，即\r\n。</li>
</ul>
<h2 id="软件包管理器">软件包管理器</h2>
<ul>
<li>yum（全称为 Yellow dog Updater, Modified）是一个在Fedora和RedHat以及SUSE中的Shell前端软件包管理器。基於RPM包管理，能够从指定的服务器自动下载RPM包并且安装，可以自动处理依赖性关系，并且一次安装所有依赖的软体包，无须繁琐地一次次下载、安装。yum提供了查找、安装、删除某一个、一组甚至全部软件包的命令，而且命令简洁而又好记。</li>
</ul>

    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content"><a href="https://zsmhub.github.io/" class="theme-link">ZsmHub</a></span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
        2020-05-05
        
    </span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">许可协议</span>
    <span class="item-content"><a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a></span>
  </p>
</div>
<div class="post-reward">
  <input type="checkbox" name="reward" id="reward" hidden />
  <label class="reward-button" for="reward">赞赏支持</label>
  <div class="qr-code">
    
    <label class="qr-code-image" for="reward">
        <img class="image" src="/images/wechat-qr-code.png" alt="请先科学上网">
        <span>微信打赏</span>
      </label>
    <label class="qr-code-image" for="reward">
        <img class="image" src="/images/alipay-qr-code.png" alt="请先科学上网">
        <span>支付宝打赏</span>
      </label>
  </div>
</div><footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/linux/">linux</a>
          <a href="/tags/%E5%85%A5%E9%97%A8/">入门</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/web%E5%AE%89%E5%85%A8/web%E5%AE%89%E5%85%A8%E6%94%BB%E9%98%B2%E6%80%BB%E7%BB%93/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Web 安全攻防总结</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        <a class="next" href="/post/php/lnmp%E7%9F%A5%E8%AF%86/">
            <span class="next-text nav-default">PHP 开发环境之 Lnmp</span>
            <span class="next-text nav-mobile">下一篇</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        <div id="gitalk-container"></div>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js" crossorigin="anonymous"></script>
    <script type="text/javascript">
      var gitalk = new Gitalk({
        id: '2019-01-01 17:32:56 \x2b0800 CST',
        title: 'Linux 基础知识',
        clientID: 'fe63c88fe7fc18e38512',
        clientSecret: 'e44ced40487d261a6006f9af23a2f788bf1e0a85',
        repo: 'zsmhub.github.io',
        owner: 'zsmhub',
        admin: ['zsmhub'],
        body: decodeURI(location.href)
      });
      gitalk.render('gitalk-container');
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://github.com/gitalk/gitalk">comments powered by gitalk.</a></noscript>

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:zhangshimiande@email.com" class="iconfont icon-email" title="email"></a>
      <a href="https://github.com/zsmhub" class="iconfont icon-github" title="github"></a>
  <a href="https://zsmhub.github.io/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    由 <a class="hexo-link" href="https://gohugo.io">Hugo</a> 强力驱动
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    主题 - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2019 - 
    2020
    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">ZsmHub</span>
  </span>
</div>
    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.cddea96674a99fd8cea50d36fb19d9c91f497feea4af5ce4596afd2dbaab9202.js"></script>








</body>
</html>
